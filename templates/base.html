
<!DOCTYPE html>
<html lang="es" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>{% block title %}Cl√≠nica Dental NeoCare{% endblock %}</title>

    <!-- ICONOS (Font Awesome) -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />

    <!-- BOOTSTRAP -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
    />

    <!-- FUENTES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
        rel="stylesheet"
    />

    <!-- ESTILOS GLOBAL -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    {% block extra_css %}{% endblock %}
</head>

<body class="layout-dental">

<!-- ================= HEADER ================= -->
<header class="site-header shadow-sm">
    <nav class="navbar navbar-expand-lg navbar-neo">
        <div class="container py-2 py-lg-3">

            <!-- LOGO -->
            <a class="navbar-brand d-flex align-items-center gap-2 logo-neo" href="/">
                <span class="logo-neo__mark"></span>
                <span class="logo-neo__text">
                    <span class="logo-neo__title">Cl√≠nica Dental</span>
                    <span class="logo-neo__subtitle">Odontolog√≠a Digital</span>
                </span>
            </a>

            <!-- BOT√ìN MOBILE -->
            <button class="navbar-toggler border-0 shadow-none" type="button"
                data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- MEN√ö -->
            <div class="collapse navbar-collapse mt-3 mt-lg-0" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">

                    <li class="nav-item">
                        <a class="nav-link nav-link-neo" href="/">
                            <i class="fa-solid fa-house nav-link-neo__icon"></i>
                            <span>Inicio</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link nav-link-neo" href="/servicios">
                            <i class="fa-solid fa-tooth nav-link-neo__icon"></i>
                            <span>Servicios</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link nav-link-neo" href="/equipo">
                            <i class="fa-solid fa-user-doctor nav-link-neo__icon"></i>
                            <span>Equipo</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link nav-link-neo" href="/reservar">
                            <i class="fa-solid fa-calendar-check nav-link-neo__icon"></i>
                            <span>Reservar</span>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link nav-link-neo nav-link-neo--outline" href="/contacto">
                            <i class="fa-solid fa-envelope-open-text nav-link-neo__icon"></i>
                            <span>Contacto</span>
                        </a>
                    </li>

                </ul>

                <!-- BOT√ìN TEMA -->
                <div class="d-flex align-items-center ms-lg-3 theme-toggle-wrapper">
                    <button id="themeToggle" type="button" class="btn-theme-toggle"
                        aria-label="Cambiar a modo oscuro">
                        üåô
                    </button>
                </div>
            </div>
        </div>
    </nav>
</header>

<!-- ================= CONTENIDO ================= -->
<main class="main-viewport">
    <div class="container main-shell py-5">
        {% block content %}
        {% endblock %}
    </div>
</main>

<!-- ================= FOOTER ================= -->
<footer class="site-footer mt-5 py-4 text-center">
    <div class="container">
        <p class="footer-title mb-1">&copy; {{ year }} Cl√≠nica Dental ‚Äî Todos los derechos reservados</p>
        <p class="footer-subtitle mb-0">Tecnolog√≠a de precisi√≥n, cuidado humano.</p>
    </div>
</footer>

<!-- BOOTSTRAP JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- SCRIPT MODO CLARO / OSCURO -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const STORAGE_KEY = 'cd_theme';
    const htmlEl = document.documentElement;
    const btn = document.getElementById('themeToggle');

    function applyTheme(theme) {
        htmlEl.setAttribute('data-theme', theme);
        if (!btn) return;
        const isDark = theme === 'dark';
        btn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        btn.setAttribute('aria-label', isDark ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro');
    }

    let initial = 'light';
    try {
        const stored = localStorage.getItem(STORAGE_KEY);
        if (stored === 'light' || stored === 'dark') {
            initial = stored;
        } else if (window.matchMedia &&
                   window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initial = 'dark';
        }
    } catch (e) {
        // si localStorage falla, ignoramos y usamos 'light'
    }
    applyTheme(initial);

    if (btn) {
        btn.addEventListener('click', () => {
            const current = htmlEl.getAttribute('data-theme') === 'dark' ? 'dark' : 'light';
            const next = current === 'dark' ? 'light' : 'dark';
            try {
                localStorage.setItem(STORAGE_KEY, next);
            } catch (e) {}
            applyTheme(next);
        });
    }
});
</script>

{% block extra_js %}{% endblock %}

</body>
</html>
```